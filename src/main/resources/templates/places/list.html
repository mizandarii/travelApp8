<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>List of Places</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body>
<div class="container text-center">

    <div th:insert="~{layouts/menuFragment :: menu}"></div>

    <h1>List of Places</h1>

    <table class="table table-striped table-bordered">
        <thead class="table-dark">
        <tr>
            <th th:href="@{/places/create}">Place ID</th>
            <th>Name</th>
            <th>City</th>
            <th>Type</th>
            <th>Images</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="place: ${places}">
            <td th:text="${place.id}">Place ID</td>
            <td>
                <a th:href="@{/places/details/{id}(id=${place.id})}" th:text="${place.name}"></a>
            </td>
            <td th:text="${place.city}">City</td>
            <td th:text="${place.type.type}">Type</td>
            <td>
                <div id="carouselExample" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div th:each="image, iterStat : ${place.images}"
                             class="carousel-item"
                             th:classappend="${iterStat.first} ? 'active'">
                            <img th:src="${image.imgUrl}" class="d-block w-100" alt="Image">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExample" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
    <a th:href="@{/places/create}" class="btn btn-primary">Suggest a Place</a>
</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</html>
